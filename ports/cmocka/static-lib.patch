diff --git a/CMakeLists.txt b/CMakeLists.txt
index 00e568e..6e3489a 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -77,9 +77,17 @@ install(
 
 # cmake config files
 if (WIN32)
+    if (BUILD_SHARED_LIBS)
     set(CMOCKA_LIBRARY_NAME ${CMAKE_SHARED_LIBRARY_PREFIX}${PROJECT_NAME}${CMAKE_IMPORT_LIBRARY_SUFFIX})
+    else()
+    set(CMOCKA_LIBRARY_NAME ${CMAKE_STATIC_LIBRARY_PREFIX}${CMOCKA_STATIC_LIBRARY}${CMAKE_IMPORT_LIBRARY_SUFFIX})
+    endif()
 else()
+    if (BUILD_SHARED_LIBS)
     set(CMOCKA_LIBRARY_NAME ${CMAKE_SHARED_LIBRARY_PREFIX}${PROJECT_NAME}${CMAKE_SHARED_LIBRARY_SUFFIX})
+    else()
+    set(CMOCKA_LIBRARY_NAME ${CMAKE_STATIC_LIBRARY_PREFIX}${CMOCKA_STATIC_LIBRARY}${CMAKE_STATIC_LIBRARY_SUFFIX})
+    endif()
 endif()
 
 set(INCLUDE_INSTALL_DIR ${CMAKE_INSTALL_INCLUDEDIR} CACHE INTERNAL "")
